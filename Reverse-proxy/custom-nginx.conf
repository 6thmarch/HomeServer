server {	
	listen 172.16.1.247:80;
	listen [::]:80 default_server;
	server_name *.mydomain.com;

	return 301 https://$host$request_uri;
	
}

server {
        listen 172.16.1.247:443 ssl;
        server_name plex.mydomain.com;
        access_log  /var/log/nginx/domains/plex.mydomain.com.log combined;
   		access_log  /var/log/nginx/domains/plex.mydomain.com.bytes bytes;
    	error_log   /var/log/nginx/domains/plex.mydomain.com.error.log error;
    	include /home/admin/conf/web/custom-nginx-ssl.conf;
        
        location / {
               return 301 https://$host/web;
               include /home/admin/conf/web/custom-nginx-location.conf;
        }

	location /web {
				proxy_pass http://172.16.1.236:32400;
                proxy_read_timeout 36000s;
                proxy_buffering off;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "upgrade";
                proxy_http_version 1.1;
                include /home/admin/conf/web/custom-nginx-location.conf;

	}

}

server {
        listen 172.16.1.247:443 ssl;
        server_name sn.mydomain.com;
        access_log  /var/log/nginx/domains/sn.mydomain.com.log combined;
   		access_log  /var/log/nginx/domains/sn.mydomain.com.bytes bytes;
  	  	error_log   /var/log/nginx/domains/sn.mydomain.com.error.log error;
    	include /home/admin/conf/web/custom-nginx-ssl.conf;

        
        location / {
                proxy_pass http://172.16.1.245:8989/;
                include /home/admin/conf/web/custom-nginx-location.conf;
                
        }

}


server {
	listen 172.16.1.247:443 ssl;
	server_name cp.mydomain.com;
	access_log  /var/log/nginx/domains/cp.mydomain.com.log combined;
   	access_log  /var/log/nginx/domains/cp.mydomain.com.bytes bytes;
    error_log   /var/log/nginx/domains/cp.mydomain.com.error.log error;
  	include /home/admin/conf/web/custom-nginx-ssl.conf;


	
	location / {
                proxy_pass http://172.16.1.245:5050/;
                include /home/admin/conf/web/custom-nginx-location.conf;
                
        }

}

server {
	listen 172.16.1.247:443 ssl;
	server_name qb.mydomain.com;
	access_log  /var/log/nginx/domains/qb.mydomain.com.log combined;
   	access_log  /var/log/nginx/domains/qb.mydomain.com.bytes bytes;
    error_log   /var/log/nginx/domains/qb.mydomain.com.error.log error;
  	include /home/admin/conf/web/custom-nginx-ssl.conf;

    
	location / {
				proxy_pass http://172.16.1.245:8080/;
				include /home/admin/conf/web/custom-nginx-location.conf;
	}

}

server {
	listen 172.16.1.247:443 ssl;
    server_name nzbget.mydomain.com;
    access_log  /var/log/nginx/domains/nzbget.mydomain.com.log combined;
   	access_log  /var/log/nginx/domains/nzbget.mydomain.com.bytes bytes;
    error_log   /var/log/nginx/domains/nzbget.mydomain.com.error.log error;
    include /home/admin/conf/web/custom-nginx-ssl.conf;


        location / {
	       		proxy_pass http://172.16.1.245:6789;
	       		include /home/admin/conf/web/custom-nginx-location.conf;
				
	 }
}

server {
	listen 172.16.1.247:443 ssl;
    server_name bi.mydomain.com;
    access_log  /var/log/nginx/domains/bi.mydomain.com.log combined;
   	access_log  /var/log/nginx/domains/bi.mydomain.com.bytes bytes;
    error_log   /var/log/nginx/domains/bi.mydomain.com.error.log error;
    include /home/admin/conf/web/custom-nginx-ssl.conf;

        location / {
				proxy_read_timeout 90;
				tcp_nodelay on;
				tcp_nopush off;
				proxy_buffering off;
				proxy_buffer_size 256k;
				proxy_buffers 4 512k;
				proxy_busy_buffers_size 512k;

				proxy_set_header X-Forwarded-Proto $scheme;
   		 	   	proxy_set_header X-Forwarded-Server $host;
    			proxy_set_header X-Forwarded-Host $host;
    			proxy_pass http://172.16.1.252:81/;
    			include /home/admin/conf/web/custom-nginx-location.conf;
        }


}

server {
    listen 172.16.1.247:443 ssl;
    server_name prtg.mydomain.com;
    access_log  /var/log/nginx/domains/prtg.mydomain.com.log combined;
   	access_log  /var/log/nginx/domains/prtg.mydomain.com.bytes bytes;
    error_log   /var/log/nginx/domains/prtg.mydomain.com.error.log error;
    include /home/admin/conf/web/custom-nginx-ssl.conf;

	    location / {
                proxy_pass https://172.16.1.246/;
                include /home/admin/conf/web/custom-nginx-location.conf;
                
        }

}

server {
	listen 172.16.1.247:443 ssl;
    server_name sab.mydomain.com;
	access_log  /var/log/nginx/domains/sab.mydomain.com.log combined;
   	access_log  /var/log/nginx/domains/sab.mydomain.com.bytes bytes;
    error_log   /var/log/nginx/domains/sab.mydomain.com.error.log error;
    include /home/admin/conf/web/custom-nginx-ssl.conf;
	
	 location / {
	        proxy_pass http://172.16.1.245:8181/;
	        include /home/admin/conf/web/custom-nginx-location.conf;

	 }

}

